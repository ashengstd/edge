# ============================================================
# proxy.yaml — 订阅转换器配置文件
# 使用方法：
#   bun gen-url.ts               # 生成 Mihomo/Clash Meta 订阅链接
#   bun gen-url.ts --stash       # 生成 Stash/iOS 订阅链接（完整版）
#   bun gen-url.ts --stash-mini  # 生成 Stash/iOS 订阅链接（内存优化版，<50MB）
# ============================================================

# Worker 部署地址（必填，改为你自己的域名）
worker: https://your-worker.workers.dev/

# 用于保护订阅链接的密码（可选，留空则不鉴权）
secret: "your-secret-password"

# ============================================================
# 订阅提供商（机场订阅）
# 每条订阅会生成独立的 proxy-provider，名称作为 URL 参数 key
# ============================================================
provider:
  - name: Airport1
    url: https://your-airport-1.com/subscribe/token123

  - name: Airport2
    url: https://your-airport-2.com/api/v1/client/subscribe?token=abc456

  # 更多订阅...
  # - name: Airport3
  #   url: https://...

# ============================================================
# 自建节点（直接写单节点配置，会出现在 Self-Hosted 节点组）
# 支持协议：hysteria2 / vless / trojan / ss / vmess
# ============================================================
proxy:

  # --- Hysteria2 示例（单端口）---
  - name: "My-Hy2"
    protocol: hysteria2
    server: your-server.example.com
    port: 443
    password: your-password
    sni: your-server.example.com
    alpn: h3
    insecure: 0    # 0=验证证书 1=跳过验证

  # --- Hysteria2 示例（端口跳跃）---
  - name: "My-Hy2-PortHopping"
    protocol: hysteria2
    server: your-server.example.com
    ports: 20000-40000    # 端口范围，使用 ports 字段
    password: your-password
    sni: your-server.example.com
    insecure: 0

  # --- VLESS + REALITY 示例 ---
  - name: "My-VLESS-Reality"
    protocol: vless
    server: your-server.example.com
    port: 443
    uuid: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
    network: grpc
    security: reality
    sni: www.bing.com
    public-key: your-reality-public-key
    short-id: your-short-id

  # --- VLESS + WS + TLS 示例 ---
  - name: "My-VLESS-WS"
    protocol: vless
    server: your-server.example.com
    port: 443
    uuid: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
    network: ws
    security: tls
    sni: your-server.example.com
    path: /your-ws-path

  # --- Trojan 示例 ---
  - name: "My-Trojan"
    protocol: trojan
    server: your-server.example.com
    port: 443
    password: your-trojan-password
    sni: your-server.example.com

  # --- Shadowsocks 示例 ---
  - name: "My-SS"
    protocol: ss
    server: your-server.example.com
    port: 8388
    cipher: aes-256-gcm   # 常用：aes-256-gcm / chacha20-ietf-poly1305
    password: your-ss-password

  # --- VMess + WS + TLS 示例 ---
  - name: "My-VMess-WS"
    protocol: vmess
    server: your-server.example.com
    port: 443
    uuid: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
    alterId: 0
    cipher: auto
    network: ws
    tls: true
    sni: your-server.example.com
    ws-path: /your-ws-path
    ws-host: your-server.example.com

# ============================================================
# 生成的 URL 示例（供参考，bun gen-url.ts 会自动生成）
# Mihomo 版本：
#   https://your-worker.workers.dev/?secret=xxx&Airport1=https://...&proxies=...
# Stash 版本（加 --stash 参数）：
#   https://your-worker.workers.dev/?secret=xxx&type=stash&Airport1=https://...
# ============================================================
